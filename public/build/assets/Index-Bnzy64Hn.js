import{d as j,D as F,E as I,c as m,a as s,u as e,h as P,w as a,b as l,j as _,g as o,C as w,o as i,F as y,r as $,e as x,t as n,n as M}from"./app-CFiNdkmo.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bt8pUL3I.js";import{d as U}from"./index-C4J_hXM0.js";import{_ as z,a as B,b as h,c as f,d as E,e as c}from"./TableHeader.vue_vue_type_script_setup_true_lang-GRAnQQ-G.js";import{a as L,b as R,c as q,d as A,e as K,_ as Q}from"./SelectValue.vue_vue_type_script_setup_true_lang-D7ZHZ4UN.js";import{_ as G,E as H}from"./index-T_v3dN_7.js";import{_ as g}from"./index-BqvsTgnt.js";import{_ as J,a as W,b as X,c as Y,d as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-dVuxcHZZ.js";import{_ as ee,a as te}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Do35keMe.js";import{_ as se}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DkZB2Mou.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-FKZv6Auw.js";import{_ as ae}from"./Textarea.vue_vue_type_script_setup_true_lang-DyHN1h_K.js";import{c as re}from"./createLucideIcon-T2spI4iZ.js";import"./index-CcDyJe5n.js";import"./VisuallyHidden-cwfcLFQd.js";import"./useForwardExpose-C5Va3WA8.js";import"./useForwardPropsEmits-40qcfLfq.js";import"./users-Cd0g44oA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./check-BC1j-nVd.js";import"./useFormControl-DAHXe2Ur.js";const v=re("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),le={class:"flex h-full flex-1 flex-col gap-10 overflow-x-auto p-10"},oe={class:"flex items-center justify-between"},ne={class:"grid gap-6 py-4"},de={class:"grid gap-3"},ie={class:"flex items-center justify-between w-full"},ue={class:"text-muted-foreground ml-4"},me={key:0,class:"text-sm text-red-500"},fe={class:"grid gap-3"},ce={key:0,class:"text-sm text-red-500"},_e={class:"rounded-2xl border border-border bg-card shadow-sm p-4"},ge={class:"font-medium text-foreground"},pe=["title"],xe={key:0,class:"text-sm text-foreground"},be={key:1,class:"text-sm text-muted-foreground italic"},ye={class:"text-sm"},ve={class:"font-medium text-foreground"},ke={class:"text-xs text-muted-foreground"},we={key:0,class:"border-t border-border p-4 flex items-center justify-between text-sm text-muted-foreground"},$e={class:"flex items-center gap-2"},he={class:"px-3"},Ce={key:0,class:"flex flex-col items-center justify-center py-16 text-center"},Se={class:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-muted"},He=j({__name:"Index",props:{orders:{},services:{}},setup(d){const b=F(!1),u=I({service_id:"",special_instructions:""}),S=[{title:"Dashboard",href:U().url},{title:"Client Orders",href:"/orders"}],k={submitted:{label:"Submitted",class:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"},under_review:{label:"Under Review",class:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"},in_production:{label:"In Production",class:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"},quality_check:{label:"Quality Check",class:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"},ready_for_delivery:{label:"Ready",class:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"},completed:{label:"Completed",class:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},D=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=p=>{const t=Math.ceil((new Date(p).getTime()-new Date().getTime())/864e5);return t>0?`${t} days`:"Overdue"},O=()=>{u.post("/orders",{onSuccess:()=>{b.value=!1,u.reset()}})};return(p,t)=>(i(),m(y,null,[s(e(P),{title:"Client Orders"}),s(T,{breadcrumbs:S},{default:a(()=>[l("div",le,[l("div",oe,[t[10]||(t[10]=l("div",null,[l("h1",{class:"text-3xl font-bold text-foreground"},"Client Orders"),l("p",{class:"text-muted-foreground mt-1"}," Track and manage your laboratory orders ")],-1)),s(e(J),{open:b.value,"onUpdate:open":t[3]||(t[3]=r=>b.value=r)},{default:a(()=>[s(e(se),{"as-child":""},{default:a(()=>[s(e(g),{class:"gap-2"},{default:a(()=>[s(e(v),{class:"h-4 w-4"}),t[4]||(t[4]=o(" New Order ",-1))]),_:1})]),_:1}),s(e(W),{class:"sm:max-w-[500px]",onInteractOutside:t[2]||(t[2]=w(()=>{},["prevent"]))},{default:a(()=>[l("form",{onSubmit:w(O,["prevent"])},[s(e(X),null,{default:a(()=>[s(e(Y),null,{default:a(()=>[...t[5]||(t[5]=[o("Create New Order",-1)])]),_:1}),s(e(Z),null,{default:a(()=>[...t[6]||(t[6]=[o(" Select a service and add any special instructions for your order. ",-1)])]),_:1})]),_:1}),l("div",ne,[l("div",de,[s(e(C),{for:"service"},{default:a(()=>[...t[7]||(t[7]=[o("Service *",-1)])]),_:1}),s(e(L),{modelValue:e(u).service_id,"onUpdate:modelValue":t[0]||(t[0]=r=>e(u).service_id=r),required:""},{default:a(()=>[s(e(R),{id:"service"},{default:a(()=>[s(e(q),{placeholder:"Select a service"})]),_:1}),s(e(A),null,{default:a(()=>[(i(!0),m(y,null,$(d.services,r=>(i(),x(e(K),{key:r.id,value:r.id.toString()},{default:a(()=>[l("div",ie,[l("span",null,n(r.name),1),l("span",ue," Ksh "+n(parseFloat(r.base_price).toFixed(2)),1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(u).errors.service_id?(i(),m("p",me,n(e(u).errors.service_id),1)):_("",!0)]),l("div",fe,[s(e(C),{for:"instructions"},{default:a(()=>[...t[8]||(t[8]=[o("Special Instructions",-1)])]),_:1}),s(e(ae),{id:"instructions",modelValue:e(u).special_instructions,"onUpdate:modelValue":t[1]||(t[1]=r=>e(u).special_instructions=r),placeholder:"e.g., Shade A2, margin chamfer, rush order...",class:"min-h-[100px]"},null,8,["modelValue"]),e(u).errors.special_instructions?(i(),m("p",ce,n(e(u).errors.special_instructions),1)):_("",!0)])]),s(e(ee),null,{default:a(()=>[s(e(te),{"as-child":""},{default:a(()=>[s(e(g),{variant:"outline",type:"button"},{default:a(()=>[...t[9]||(t[9]=[o(" Cancel ",-1)])]),_:1})]),_:1}),s(e(g),{type:"submit",disabled:e(u).processing},{default:a(()=>[e(u).processing?_("",!0):(i(),x(e(v),{key:0,class:"h-4 w-4 mr-2"})),o(" "+n(e(u).processing?"Creating...":"Create Order"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"])]),l("div",_e,[s(e(z),null,{default:a(()=>[d.orders.data.length===0?(i(),x(e(Q),{key:0},{default:a(()=>[...t[11]||(t[11]=[o(" No orders found. Create your first order to get started. ",-1)])]),_:1})):_("",!0),s(e(B),null,{default:a(()=>[s(e(h),null,{default:a(()=>[s(e(f),{class:"w-[140px]"},{default:a(()=>[...t[12]||(t[12]=[o("#",-1)])]),_:1}),s(e(f),{class:"w-[140px]"},{default:a(()=>[...t[13]||(t[13]=[o("Order Number",-1)])]),_:1}),s(e(f),null,{default:a(()=>[...t[14]||(t[14]=[o("Service",-1)])]),_:1}),s(e(f),null,{default:a(()=>[...t[15]||(t[15]=[o("Status",-1)])]),_:1}),s(e(f),null,{default:a(()=>[...t[16]||(t[16]=[o("Technician",-1)])]),_:1}),s(e(f),null,{default:a(()=>[...t[17]||(t[17]=[o("Due Date",-1)])]),_:1}),s(e(f),null,{default:a(()=>[...t[18]||(t[18]=[o("Price",-1)])]),_:1}),s(e(f),{class:"text-right"},{default:a(()=>[...t[19]||(t[19]=[o("Actions",-1)])]),_:1})]),_:1})]),_:1}),s(e(E),null,{default:a(()=>[(i(!0),m(y,null,$(d.orders.data,(r,V)=>(i(),x(e(h),{key:r.id,class:"hover:bg-muted/50 transition-colors"},{default:a(()=>[s(e(c),{class:"font-medium font-mono"},{default:a(()=>[o(n(V+1),1)]),_:2},1024),s(e(c),{class:"font-medium font-mono"},{default:a(()=>[o(n(r.order_number),1)]),_:2},1024),s(e(c),null,{default:a(()=>[l("div",null,[l("div",ge,n(r.service.name),1),r.special_instructions?(i(),m("div",{key:0,class:"text-xs text-muted-foreground mt-1 truncate max-w-[200px]",title:r.special_instructions},n(r.special_instructions),9,pe)):_("",!0)])]),_:2},1024),s(e(c),null,{default:a(()=>[s(e(G),{class:M(k[r.status].class),variant:"secondary"},{default:a(()=>[o(n(k[r.status].label),1)]),_:2},1032,["class"])]),_:2},1024),s(e(c),null,{default:a(()=>[r.technician?(i(),m("span",xe,n(r.technician.name),1)):(i(),m("span",be," Not assigned "))]),_:2},1024),s(e(c),null,{default:a(()=>[l("div",ye,[l("div",ve,n(D(r.due_date)),1),l("div",ke,n(N(r.due_date)),1)])]),_:2},1024),s(e(c),{class:"font-semibold text-foreground"},{default:a(()=>[o(" Ksh "+n(parseFloat(r.service.base_price).toFixed(2)),1)]),_:2},1024),s(e(c),{class:"text-right"},{default:a(()=>[s(e(g),{variant:"ghost",size:"sm",class:"gap-2"},{default:a(()=>[s(e(H),{class:"h-4 w-4"}),t[20]||(t[20]=o(" View ",-1))]),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1}),d.orders.data.length>0?(i(),m("div",we,[l("div",null," Showing "+n((d.orders.current_page-1)*d.orders.per_page+1)+" to "+n(Math.min(d.orders.current_page*d.orders.per_page,d.orders.total))+" of "+n(d.orders.total)+" orders ",1),l("div",$e,[s(e(g),{variant:"outline",size:"sm",disabled:d.orders.current_page===1},{default:a(()=>[...t[21]||(t[21]=[o(" Previous ",-1)])]),_:1},8,["disabled"]),l("span",he,"Page "+n(d.orders.current_page)+" of "+n(d.orders.last_page),1),s(e(g),{variant:"outline",size:"sm",disabled:d.orders.current_page===d.orders.last_page},{default:a(()=>[...t[22]||(t[22]=[o(" Next ",-1)])]),_:1},8,["disabled"])])])):_("",!0)]),d.orders.data.length===0?(i(),m("div",Ce,[l("div",Se,[s(e(v),{class:"h-10 w-10 text-muted-foreground"})]),t[23]||(t[23]=l("h3",{class:"text-xl font-semibold text-foreground mb-2"},"No orders yet",-1)),t[24]||(t[24]=l("p",{class:"text-muted-foreground mb-6 max-w-sm"}," Create your first order to start tracking your dental laboratory work. ",-1))])):_("",!0)])]),_:1})],64))}});export{He as default};
